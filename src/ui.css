/* UI Controls, Forms, and Navigation */
.roam-app {
  /* Checkbox styling - shadcn/ui inspired */
  .check-container {
    width: 18px !important;
    height: 18px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    top: 5px;

    .checkmark {
      background-color: var(--bg-primary) !important;
      border: 1px solid var(--text-subtle) !important;
      border-radius: 4px !important;
      width: 16px !important;
      height: 16px !important;
      transition: all 0.2s ease-in-out !important;

      &:after {
        border-color: white !important;
        width: 4px !important;
        height: 8px !important;
        border-width: 0 2px 2px 0 !important;
      }
    }

    input:checked ~ .checkmark {
      background-color: var(--accent-color) !important;
      border-color: var(--accent-color) !important;

      &:after {
        content: "" !important;
        position: absolute !important;
        left: 50% !important;
        top: 50% !important;
        transform: translate(-50%, -50%) !important;
        width: 12px !important;
        height: 12px !important;
        background: white !important;
        mask: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m13.854 3.646-7.5 7.5a.75.75 0 0 1-1.06 0l-3.5-3.5a.75.75 0 1 1 1.06-1.06L6 9.44l6.94-6.94a.75.75 0 0 1 1.06 1.06z'/%3e%3c/svg%3e") !important;
        mask-size: contain !important;
        mask-repeat: no-repeat !important;
        mask-position: center !important;
        border: none !important;
      }
    }

    input:hover ~ .checkmark {
      border-color: var(--accent-color) !important;
      box-shadow: 0 0 0 2px var(--focus-ring) !important;
    }

    input:focus ~ .checkmark {
      border-color: var(--accent-color) !important;
      box-shadow: 0 0 0 2px var(--focus-ring) !important;
    }
  }

  /* Target the parent span that contains both checkbox and text */
  span:has(.rm-done) {
    text-decoration: line-through !important;
    opacity: 0.7 !important;
  }

  /* Also target rm-done itself */
  .rm-done {
    text-decoration: line-through !important;
    opacity: 0.7 !important;
  }

  /* Target blocks that contain "DONE" in their page links or path page links */
  [data-page-links*="DONE"],
  [data-path-page-links*="DONE"] {
    text-decoration: line-through !important;
    opacity: 0.7 !important;
  }

  /* Keep checkboxes at normal opacity within completed blocks */
  [data-page-links*="DONE"] .check-container,
  [data-page-links*="DONE"] .rm-checkbox,
  [data-path-page-links*="DONE"] .check-container,
  [data-path-page-links*="DONE"] .rm-checkbox {
    opacity: 1 !important;
    text-decoration: none !important;
  }
}

/* Buttons */
.bp3-button {
  color: var(--text-secondary) !important;
  padding: 0 !important;
}

.bp3-button:hover {
  background-color: var(--bg-tertiary) !important;
}

.bp3-popover-target {
  width: 24px;
}
